# NAVIG - Product Requirements Document (PRD)

**버전:** 1.0  
**작성일:** 2025년 1월 22일  
**최종 수정일:** 2025년 1월 22일  
**문서 상태:** 최종 승인 대기

---

## 목차

1. [Executive Summary](#1-executive-summary)
2. [사용자 분석](#2-사용자-분석)
3. [핵심 기능 명세](#3-핵심-기능-명세)
4. [기술 아키텍처](#4-기술-아키텍처)
5. [UI/UX 가이드라인](#5-uiux-가이드라인)
6. [보안 및 컴플라이언스](#6-보안-및-컴플라이언스)
7. [출시 로드맵](#7-출시-로드맵)
8. [성공 지표](#8-성공-지표)
9. [부록](#9-부록)

---

## 1. Executive Summary

### 1.1 제품 개요

| 항목 | 내용 |
|------|------|
| **제품명** | NAVIG |
| **한 줄 설명** | 영상 제작자, 편집자, 의뢰인을 위한 올인원 프로젝트 관리 및 협업 플랫폼 |
| **도메인** | 영상 제작 협업 SaaS |
| **플랫폼** | 웹 애플리케이션 (반응형) |

### 1.2 핵심 가치 제안 (Value Proposition)

1. **행정 업무 시간 단축**: 템플릿 기반 자동화된 문서 생성
2. **수정 히스토리 추적**: 버전 관리로 모든 변경사항 기록
3. **시각적 피드백**: 프레임 단위 주석으로 정확한 커뮤니케이션
4. **데이터 유실 방지**: 통합 플랫폼에서 모든 파일 관리
5. **실시간 상태 파악**: 통합 대시보드로 프로젝트 전 과정 모니터링

### 1.3 비즈니스 목표

| 항목 | 목표 |
|------|------|
| MVP 출시 | 3개월 이내 |
| 베타 테스트 | 50명 |
| 6개월 목표 | 500명 |
| 수익 모델 | 사용량 기반 + 구독제 하이브리드 |

### 1.4 수익 모델 상세

#### 구독 플랜

| 플랜 | 월 요금 | 대상 | 주요 기능 |
|------|---------|------|-----------|
| Free | ₩0 | 체험 사용자 | 프로젝트 1개, 영상 500MB, 기본 기능 |
| Starter | ₩19,900 | 1인 제작자 | 프로젝트 10개, 영상 10GB, 전체 기능 |
| Pro | ₩49,900 | 소규모 팀 | 프로젝트 무제한, 영상 50GB, 팀 협업 |
| Enterprise | 협의 | 대형 에이전시 | 커스텀 용량, 전용 지원, SLA |

#### 사용량 기반 과금

- 추가 스토리지: ₩1,000/GB/월
- AI 기능 토큰: 기본 제공량 초과 시 ₩100/1,000토큰
- API 호출: Pro 이상 무제한, Starter 10,000회/월

---

## 2. 사용자 분석

### 2.1 타겟 사용자 유형

| 사용자 유형 | 설명 | 주요 니즈 |
|-------------|------|-----------|
| 편집 의뢰인 | 영상 편집을 외주 의뢰하는 개인/기업 | 명확한 수정 요청 전달, 진행상황 파악 |
| 영상 제작 의뢰인 | 영상 기획~제작 전체를 의뢰 | 기획 아이디어 시각화, 계약/정산 관리 |
| 편집자 | 프리랜서 영상 편집자 | 효율적인 피드백 수령, 버전 관리 |
| 영상 제작자 | 영상 기획~편집까지 수행 | 프로젝트 전체 관리, 클라이언트 소통 |
| 1인 영상 제작자 | 유튜버, 크리에이터 | 간편한 외주 관리, 비용 절감 |
| AI 영상 콘텐츠 제작자 | AI 도구 활용 제작자 | 빠른 피드백 사이클, 버전 비교 |

### 2.2 페르소나

#### 페르소나 1: 프리랜서 편집자 "김민수" (28세)

- **배경**: 유튜브 채널 편집 외주 전문, 동시 3-5개 프로젝트 진행
- **Pain Points**: 카톡으로 흩어진 피드백, "여기 수정해주세요" 같은 모호한 요청
- **Goals**: 체계적인 프로젝트 관리, 명확한 수정 지시 수령
- **사용 빈도**: 매일 2-3시간

#### 페르소나 2: 마케팅 팀장 "이서연" (35세)

- **배경**: 중소기업 마케팅팀, 월 2-3개 홍보 영상 외주 제작
- **Pain Points**: 제작사와의 소통 비효율, 진행 상황 파악 어려움
- **Goals**: 빠른 피드백 전달, 실시간 진행상황 모니터링
- **사용 빈도**: 주 2-3회

#### 페르소나 3: 영상 에이전시 대표 "박준호" (42세)

- **배경**: 10인 규모 영상 제작 에이전시 운영
- **Pain Points**: 행정 업무 과다, 프로젝트별 수익성 파악 어려움
- **Goals**: 자동화된 견적/계약, 팀 전체 프로젝트 현황 파악
- **사용 빈도**: 매일 업무 시작/종료 시

### 2.3 주요 사용 시나리오

#### 시나리오 A: 신규 프로젝트 시작 (의뢰인 → 작업자)

```
1. 의뢰인이 작업 요청서 작성
   - AI 템플릿 추천 또는 직접 선택
   - 프로젝트명, 작업 범위, 기한 입력
   
2. 작업자가 요청서 검토
   - 승인 시: 견적서 자동 생성 및 발행
   - 반려 시: 수정 요청과 함께 피드백
   
3. 의뢰인이 견적서 확인 및 승인

4. 계약서 자동 생성 → 양측 전자서명

5. 프로젝트 대시보드에 자동 등록
```

#### 시나리오 B: 수정 피드백 (의뢰인 ↔ 작업자)

```
1. 작업자가 영상 v1 업로드

2. 의뢰인이 영상 재생 중 특정 구간 선택

3. 프레임 위에 도형/텍스트로 수정 사항 표시
   - "이 자막 위치를 왼쪽으로"
   - "여기 효과음 추가"
   
4. 캡처 또는 영상에 삽입하여 저장

5. 작업자에게 실시간 알림 발송

6. 작업자가 피드백 상태를 "진행중"으로 변경

7. 수정 완료 후 v2 업로드 → 의뢰인에게 알림
```

#### 시나리오 C: 버전 비교 및 승인

```
1. 의뢰인이 알림 확인 → v2 영상 접근

2. v1 vs v2 나란히 비교 재생

3. 수정 사항 확인 후:
   - 추가 피드백 필요 시: 시나리오 B 반복
   - 만족 시: 최종 승인
   
4. 프로젝트 상태 "검수 완료"로 자동 변경

5. 정산 프로세스 시작
```

### 2.4 핵심 작업 (Critical Tasks)

가장 빈번하게 수행되는 작업 Top 5:

1. **문서 작성**: 작업 요청서, 견적서, 계약서 (템플릿 기반)
2. **영상 버전 관리**: 업로드, 비교, 히스토리 확인
3. **시각적 피드백**: 영상 위 주석, 캔버스 작업
4. **As-Is/To-Be 비교**: 수정 전후 비교 확인
5. **상태 모니터링**: 대시보드에서 진행 현황 파악

---

## 3. 핵심 기능 명세

### 3.1 행정 자동화 (견적서/계약서/작업 요청서)

#### 3.1.1 문서 템플릿 시스템

**필수 포함 항목**:

| 항목 | 작업 요청서 | 견적서 | 계약서 |
|------|------------|--------|--------|
| 프로젝트명 | ✓ | ✓ | ✓ |
| 작업 범위/내용 | ✓ | ✓ | ✓ |
| 일정/기한 | ✓ | ✓ | ✓ |
| 금액 | - | ✓ | ✓ |
| 결제 조건 | - | ✓ | ✓ |
| 수정 횟수 | - | ✓ | ✓ |
| 저작권 조항 | - | - | ✓ |
| 비고란 | ✓ | ✓ | ✓ |

**선택 항목**:
- 회사 로고
- 담당자 정보
- 전자서명

**AI 템플릿 추천 기능**:

```
입력: 의뢰 유형, 예상 분량, 업종
      ↓
분석: 과거 유사 프로젝트 패턴 분석
      ↓
출력: 추천 템플릿 Top 3 + 추천 이유
```

- 의뢰 유형 키워드 분석 후 적합한 템플릿 자동 추천
- 최근 사용 템플릿 우선 표시
- 업종별 인기 템플릿 제공
- 사용자 피드백 기반 추천 정확도 개선

#### 3.1.2 문서 워크플로우

```
[작업 요청서 작성]
       ↓
    [검토]
    ↙    ↘
[반려]    [승인]
   ↓         ↓
[수정]   [견적서 발행]
   ↓         ↓
   →→→    [승인]
             ↓
         [계약서 생성]
             ↓
         [전자서명]
             ↓
         [프로젝트 시작]
```

**상태 정의**:
- `draft`: 작성 중
- `pending_review`: 검토 대기
- `rejected`: 반려 (사유 포함)
- `approved`: 승인됨
- `signed`: 서명 완료
- `archived`: 보관됨

#### 3.1.3 전자서명

**기능 상세**:
- 터치/마우스 서명 지원
- 저장된 서명 재사용 기능
- 서명 일시 자동 기록 (타임스탬프)
- 서명자 IP, 디바이스 정보 기록
- PDF 내장 서명 (추후)

**법적 효력**:
- 전자서명법 준수
- 서명 원본 해시값 보관
- 타임스탬프 인증 서비스 연동 (옵션)

#### 3.1.4 문서 관리

| 기능 | 설명 |
|------|------|
| 저장소 | Cloudflare R2 (기본), AWS S3 (확장 시) |
| 검색/필터 | 날짜별, 클라이언트별, 문서 유형별, 상태별 |
| 버전 관리 | 수정 이력 자동 보관 (최대 50개 버전) |
| 자동 저장 | 30초 간격 자동 저장, 수동 저장 시 버전 생성 |
| 내보내기 | PDF, DOCX 형식 |

**문서 검색 인덱싱**:
- 문서 제목, 내용 전문 검색
- 클라이언트명, 프로젝트명 검색
- 날짜 범위 필터
- 금액 범위 필터

---

### 3.2 버전 관리 (영상)

#### 3.2.1 업로드 사양

| 항목 | 스펙 | 비고 |
|------|------|------|
| 지원 포맷 | MP4, MOV, WebM | H.264/H.265 코덱 |
| 최대 파일 크기 | 2GB/파일 | Pro 이상 4GB |
| 최대 해상도 | 4K (3840x2160) | - |
| 최대 영상 길이 | 60분 | Pro 이상 120분 |

**서버 비용 최적화 전략**:

```
[원본 업로드]
     ↓
[트랜스코딩 큐]
     ↓
┌────┴────┐
↓         ↓
[프리뷰용]  [원본 보관]
720p/1080p  Cold Storage
     ↓
[CDN 캐싱]
```

- 업로드 시 자동 트랜스코딩 (프리뷰용 저해상도 생성)
- 원본은 Cold Storage 보관 (30일 미접근 시)
- CDN 캐싱으로 반복 재생 비용 절감
- 청크 업로드로 대용량 파일 안정적 전송

#### 3.2.2 버전 네이밍

자동 생성 규칙: `v{순번}_{YYYYMMDD}_{HHmm}`

예시:
- `v1_20250122_1430` (첫 번째 버전, 1월 22일 14:30)
- `v2_20250123_0915` (두 번째 버전, 1월 23일 09:15)

**버전 메타데이터**:
- 업로드자 정보
- 업로드 일시
- 변경 사항 메모 (필수)
- 파일 크기
- 해상도
- 영상 길이
- 코덱 정보

#### 3.2.3 버전 비교 기능

| 비교 방식 | 설명 | 사용 상황 |
|-----------|------|-----------|
| 나란히 재생 | 두 버전을 좌우로 동시 재생 | 전반적인 차이 확인 |
| 슬라이더 | 한 화면에서 좌우 드래그로 비교 | 색보정, 효과 확인 |
| 타임라인 오버레이 | 변경 구간 시각적 표시 | 편집점 확인 |
| 구간 비교 | 특정 타임코드 범위만 선택 비교 | 세부 수정 확인 |

**비교 UI 컨트롤**:
- 동기화 재생/개별 재생 토글
- 재생 속도 조절 (0.25x ~ 2x)
- 프레임 단위 이동 (← → 키)
- 북마크 기능

#### 3.2.4 AI 차이점 감지 (v2.0 예정)

- 장면 전환점 자동 감지
- 오디오 파형 변화 하이라이트
- 색보정 변경 구간 표시
- 자막 변경 감지
- 효과/전환 변경 감지

---

### 3.3 프레임 단위 시각적 피드백

#### 3.3.1 주석 도구

**기본 도구**:

| 도구 | 아이콘 | 단축키 | 설명 |
|------|--------|--------|------|
| 화살표 | → | A | 방향 지시 |
| 사각형 | □ | R | 영역 강조 |
| 원/타원 | ○ | O | 포인트 강조 |
| 자유 그리기 | ✎ | P | 펜 도구 |
| 텍스트 | T | T | 텍스트 입력 |

**추가 도구 (추천)**:

| 도구 | 설명 | 용도 |
|------|------|------|
| 모자이크 | 영역 블러 처리 표시 | 개인정보 처리 요청 |
| 번호 마커 | 1, 2, 3... 순차 표시 | 작업 순서 지시 |
| 측정 도구 | 거리/영역 표시 | 정확한 위치 지정 |
| 스탬프 | OK, NG, 수정필요 등 | 빠른 상태 표시 |
| 음성 메모 | 녹음 첨부 | 복잡한 설명 |

**스타일 옵션**:
- 색상 선택 (12색 팔레트 + 커스텀)
- 크기/두께 조정 (1px ~ 20px)
- 투명도 조절 (10% ~ 100%)
- 프리셋 저장 (자주 쓰는 스타일)

#### 3.3.2 피드백 프로세스

**타임코드 연동**:
- 주석이 특정 프레임/구간에 자동 연결
- 타임라인에 피드백 마커 표시 (색상별 상태 구분)
- 마커 클릭 시 해당 시점으로 이동
- 구간 지정 가능 (00:01:30 ~ 00:01:45)

**피드백 상태**:

| 상태 | 색상 | 설명 |
|------|------|------|
| 대기중 | 🔴 빨강 | 피드백 등록됨, 작업자 확인 전 |
| 진행중 | 🟡 노랑 | 작업자가 확인, 작업 중 |
| 검토중 | 🔵 파랑 | 수정 완료, 의뢰인 확인 대기 |
| 완료 | 🟢 초록 | 승인됨 |

**댓글 스레드**:
- 주석별 답글 기능 (무제한 depth)
- @멘션으로 담당자 태그
- 이모지 리액션 (👍👎🤔❓)
- 이미지/파일 첨부 (최대 10MB)

#### 3.3.3 알림 시스템

**알림 트리거**:

| 이벤트 | 수신자 | 채널 |
|--------|--------|------|
| 새 피드백 등록 | 작업자 | 이메일, 인앱 |
| 피드백 상태 변경 | 등록자 | 인앱 |
| 답글 등록 | 스레드 참여자 | 인앱 |
| 긴급 피드백 | 작업자 | 이메일, 인앱, 푸시 |
| 새 버전 업로드 | 의뢰인 | 이메일, 인앱 |

**알림 채널**:
- 이메일 알림 (즉시/일간 요약 선택)
- 인앱 알림 (웹페이지 내 알림 센터)
- 브라우저 푸시 알림

**추가 연동 (v2.0)**:
- Slack 웹훅
- Discord 웹훅
- 카카오톡 알림톡

**긴급 피드백**:
- 빨간색 뱃지로 시각적 구분
- 푸시 알림 우선 발송
- 대시보드 상단 고정 표시
- 미해결 시 리마인더 (1시간/6시간/24시간)

---

### 3.4 멀티 캔버스 레퍼런스 보드

#### 3.4.1 소스 가져오기

**외부 소스**:

| 방식 | 지원 소스 |
|------|-----------|
| 드래그 앤 드롭 | 모든 파일 |
| URL 입력 | 이미지, 웹페이지 (임베드 카드) |
| 클립보드 붙여넣기 | 이미지, 텍스트 |
| 파일 선택 | 모든 파일 |

**지원 포맷**:

| 유형 | 포맷 |
|------|------|
| 이미지 | JPG, PNG, GIF, WebP, SVG |
| 영상 | MP4, WebM (최대 100MB) |
| 문서 | PDF (미리보기) |
| 웹페이지 | URL 임베드 (OG 이미지 + 제목) |

**내부 소스**:
- 프로젝트 내 업로드 영상 (썸네일/특정 프레임)
- 문서 (견적서, 계약서 등)
- 이전 버전 프레임 캡처
- 다른 프로젝트 레퍼런스 (권한 있는 경우)

#### 3.4.2 캔버스 UI

**배치 방식**:
- 자유 배치 (미리캔버스 스타일)
- 무한 캔버스 (제한 없는 작업 영역)

**조작 기능**:

| 기능 | 마우스 | 키보드 | 터치 |
|------|--------|--------|------|
| 줌 인/아웃 | 휠 스크롤 | Ctrl + +/- | 핀치 |
| 팬 | 드래그 (빈 공간) | 스페이스 + 드래그 | 두 손가락 드래그 |
| 선택 | 클릭 | - | 탭 |
| 다중 선택 | Shift + 클릭 | Ctrl + A | - |
| 삭제 | - | Delete/Backspace | - |

**레이어 기능**:
- 앞으로 가져오기 (Ctrl + ])
- 뒤로 보내기 (Ctrl + [)
- 맨 앞으로 (Ctrl + Shift + ])
- 맨 뒤로 (Ctrl + Shift + [)
- 잠금/잠금 해제

**정렬 및 배치**:
- 스마트 가이드라인 (스냅)
- 그리드에 맞추기 (옵션)
- 정렬: 좌/중앙/우, 상/중앙/하
- 균등 배치
- 그룹화/그룹 해제

**추가 기능**:
- 프레임/섹션 나누기 (보드 정리용)
- 미니맵 네비게이션
- 프리셋 레이아웃 템플릿
- 배경색/격자 설정

#### 3.4.3 협업 기능

| 기능 | MVP (v1.0) | 향후 (v2.0) |
|------|------------|-------------|
| 주석 달기 | ✓ | ✓ |
| 보드 저장 | ✓ | ✓ |
| 보드 공유 (링크) | ✓ | ✓ |
| 뷰어 모드 | ✓ | ✓ |
| 편집 권한 설정 | ✓ | ✓ |
| 실시간 공동 편집 | - | ✓ |
| 커서 표시 | - | ✓ |
| 편집 잠금 | - | ✓ |

**공유 설정**:
- 링크 공유 (보기 전용 / 편집 가능)
- 비밀번호 보호
- 만료일 설정
- 접근 로그

---

### 3.5 통합 프로젝트 대시보드

#### 3.5.1 프로젝트 단계 및 상태

**단계 흐름**:

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│  기획   │ → │  제작   │ → │  검수   │ → │  정산   │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
```

**단계별 상태 정의**:

| 단계 | 상태 | 설명 |
|------|------|------|
| 기획 | 대기중 | 요청서 작성 중 |
| 기획 | 진행중 | 견적/계약 진행 중 |
| 기획 | 완료 | 계약 체결 완료 |
| 제작 | 진행중 | 0~100% 진행률 표시 |
| 검수 | 1차 검수 | 첫 버전 검토 중 |
| 검수 | 수정 중 | 피드백 반영 작업 중 |
| 검수 | 최종 승인 | 검수 완료 |
| 정산 | 견적 발송 | 최종 견적서 발송됨 |
| 정산 | 입금 대기 | 결제 대기 중 |
| 정산 | 완료 | 정산 완료 |

#### 3.5.2 대시보드 지표

**핵심 지표**:

| 지표 | 설명 | 시각화 |
|------|------|--------|
| 프로젝트 현황 | 대기/진행/완료 건수 | 도넛 차트 |
| 프로젝트별 진행률 | 개별 프로젝트 진척도 | 진행률 바 |
| 마감일 | D-day 카운트다운 | 숫자 + 색상 |
| 미해결 피드백 | 처리 대기 피드백 수 | 뱃지 |
| 긴급 항목 | 즉시 확인 필요 | 상단 배너 |

**추가 지표 (추천)**:

| 지표 | 설명 | 활용 |
|------|------|------|
| 평균 완료 소요일 | 프로젝트 평균 기간 | 일정 예측 |
| 평균 수정 횟수 | 버전 평균 수 | 워크플로우 개선 |
| 월별 완료 건수 | 생산성 추이 | 성과 분석 |
| 클라이언트별 현황 | 고객별 프로젝트 | 관계 관리 |
| 피드백 응답 시간 | 평균 응답 속도 | 서비스 품질 |
| 월별 매출 | 정산 완료 금액 | 수익 분석 |

#### 3.5.3 시각화 컴포넌트

| 차트 유형 | 용도 | 데이터 |
|-----------|------|--------|
| 칸반 보드 | 프로젝트 상태 흐름 관리 | 프로젝트 카드 |
| 타임라인 | 일정 기반 프로젝트 뷰 | 마감일, 마일스톤 |
| 도넛 차트 | 상태별 프로젝트 분포 | 상태 집계 |
| 진행률 바 | 개별 프로젝트 진척도 | 완료율 |
| 히트맵 캘린더 | 마감일 밀집도 확인 | 날짜별 마감 건수 |
| 꺾은선 그래프 | 월별 추이 | 완료 건수, 매출 |

#### 3.5.4 알림 및 인라인 액션

**자동 알림**:

| 트리거 | 타이밍 | 알림 내용 |
|--------|--------|-----------|
| 마감 임박 | D-3, D-1, D-day | "프로젝트 X 마감 N일 전" |
| 지연 발생 | D+1 | "프로젝트 X가 마감일을 초과했습니다" |
| 장기 미응답 | 48시간 | "피드백에 응답이 없습니다" |
| 긴급 피드백 | 즉시 | "긴급 피드백이 등록되었습니다" |

**대시보드 인라인 액션**:
- 상태 변경 (드래그 앤 드롭 / 드롭다운)
- 담당자 변경
- 마감일 수정
- 빠른 메모 추가
- 긴급 표시 토글
- 프로젝트 아카이브

---

### 3.6 추가 기능 (추천)

#### 3.6.1 커뮤니티 기능 (v2.0)

요구사항에 언급된 "작업자와 의뢰인이 소통할 수 있는 커뮤니티"

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| Q&A 게시판 | 포럼형 질문/답변 | 높음 |
| 포트폴리오 | 작업자 작품 전시 | 중간 |
| 프로젝트 매칭 | 의뢰인↔작업자 연결 | 낮음 |
| 리뷰/평점 | 상호 평가 시스템 | 낮음 |

#### 3.6.2 AI 기능 확장 (v2.0+)

| 기능 | 설명 | 기술 |
|------|------|------|
| 자동 자막 생성 | 영상 STT | Whisper API |
| AI 요약 | 긴 피드백 스레드 요약 | GPT |
| 스마트 일정 | 과거 데이터 기반 예측 | 자체 ML |
| 유사 프로젝트 | 견적 참고용 분석 | 벡터 검색 |
| 차이점 감지 | 영상 변경 구간 자동 표시 | Computer Vision |

#### 3.6.3 분석 및 인사이트 (v2.0)

| 분석 항목 | 설명 | 대상 |
|-----------|------|------|
| 작업자 응답 시간 | 평균 피드백 응답 속도 | 작업자 |
| 수정 횟수 분석 | 프로젝트 유형별 평균 | 전체 |
| 고객 만족도 | 프로젝트 완료 후 설문 | 의뢰인 |
| 수익 리포트 | 월별/분기별 매출 분석 | 작업자 |

---

## 4. 기술 아키텍처

### 4.1 기술 스택

| 레이어 | 기술 | 버전 | 선정 이유 |
|--------|------|------|-----------|
| Frontend | React | 18.x | 컴포넌트 기반, 생태계 |
| 상태관리 | Zustand | 4.x | 경량, 간편 |
| 스타일링 | TailwindCSS | 3.x | 유틸리티 기반, 생산성 |
| Backend | Node.js | 20.x LTS | JavaScript 통합 |
| Framework | NestJS | 10.x | 구조화, TypeScript |
| Database | Supabase | - | PostgreSQL + 실시간 |
| Auth | Supabase Auth | - | 소셜 로그인 통합 |
| Storage | Cloudflare R2 | - | 이그레스 무료 |
| CDN | Cloudflare | - | 글로벌 엣지 |
| 영상처리 | FFmpeg | 6.x | 트랜스코딩 |
| 실시간 | Supabase Realtime | - | WebSocket |

### 4.2 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────────┐
│                         클라이언트 계층                           │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │  웹 브라우저  │  │   모바일 웹  │  │    태블릿    │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└────────────────────────────┬────────────────────────────────────┘
                             │ HTTPS
┌────────────────────────────▼────────────────────────────────────┐
│                      Cloudflare CDN/Edge                        │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │  정적 자산   │  │  DDoS 방어   │  │    WAF      │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└────────────────────────────┬────────────────────────────────────┘
                             │
┌────────────────────────────▼────────────────────────────────────┐
│                        API 게이트웨이                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │   인증/인가   │  │  Rate Limit │  │    로깅     │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└────────────────────────────┬────────────────────────────────────┘
                             │
┌────────────────────────────▼────────────────────────────────────┐
│                      애플리케이션 계층                           │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │  문서 서비스  │  │  영상 서비스  │  │ 피드백 서비스 │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ 캔버스 서비스 │  │  알림 서비스  │  │  결제 서비스  │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└────────────────────────────┬────────────────────────────────────┘
                             │
┌────────────────────────────▼────────────────────────────────────┐
│                        데이터 계층                               │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │  Supabase   │  │ Cloudflare  │  │    Redis    │             │
│  │ (PostgreSQL)│  │     R2      │  │   (캐시)    │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└─────────────────────────────────────────────────────────────────┘
```

### 4.3 데이터베이스 스키마 (핵심 테이블)

```sql
-- 사용자
users (
  id UUID PRIMARY KEY,
  email VARCHAR(255) UNIQUE,
  name VARCHAR(100),
  role ENUM('client', 'worker', 'admin'),
  subscription_plan ENUM('free', 'starter', 'pro', 'enterprise'),
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- 프로젝트
projects (
  id UUID PRIMARY KEY,
  title VARCHAR(255),
  description TEXT,
  status ENUM('planning', 'production', 'review', 'settlement'),
  stage_status VARCHAR(50),
  client_id UUID REFERENCES users,
  worker_id UUID REFERENCES users,
  deadline DATE,
  progress INTEGER DEFAULT 0,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- 문서
documents (
  id UUID PRIMARY KEY,
  project_id UUID REFERENCES projects,
  type ENUM('request', 'estimate', 'contract'),
  title VARCHAR(255),
  content JSONB,
  status ENUM('draft', 'pending', 'approved', 'signed'),
  version INTEGER,
  file_url VARCHAR(500),
  created_by UUID REFERENCES users,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- 영상 버전
video_versions (
  id UUID PRIMARY KEY,
  project_id UUID REFERENCES projects,
  version_number INTEGER,
  version_name VARCHAR(100),
  file_url VARCHAR(500),
  thumbnail_url VARCHAR(500),
  preview_url VARCHAR(500),
  duration INTEGER,
  resolution VARCHAR(20),
  file_size BIGINT,
  change_notes TEXT,
  uploaded_by UUID REFERENCES users,
  created_at TIMESTAMP
)

-- 피드백
feedbacks (
  id UUID PRIMARY KEY,
  video_version_id UUID REFERENCES video_versions,
  parent_id UUID REFERENCES feedbacks,
  timecode_start INTEGER,
  timecode_end INTEGER,
  content TEXT,
  annotations JSONB,
  status ENUM('pending', 'in_progress', 'review', 'completed'),
  is_urgent BOOLEAN DEFAULT FALSE,
  created_by UUID REFERENCES users,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- 캔버스 보드
canvas_boards (
  id UUID PRIMARY KEY,
  project_id UUID REFERENCES projects,
  title VARCHAR(255),
  content JSONB,
  is_shared BOOLEAN DEFAULT FALSE,
  share_link VARCHAR(100),
  share_password VARCHAR(255),
  expires_at TIMESTAMP,
  created_by UUID REFERENCES users,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- 알림
notifications (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users,
  type VARCHAR(50),
  title VARCHAR(255),
  content TEXT,
  link VARCHAR(500),
  is_read BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP
)
```

### 4.4 스토리지 구성

| 용도 | 서비스 | 비용 | 특징 |
|------|--------|------|------|
| 문서/이미지 | Cloudflare R2 | 저렴 | 이그레스 무료 |
| 영상 원본 | Cloudflare R2 → AWS S3 IT | 중간 | 자동 티어링 |
| 영상 프리뷰 | Cloudflare R2 + CDN | 저렴 | 빠른 전송 |
| 백업 | AWS S3 Glacier | 매우 저렴 | 장기 보관 |

**비용 최적화 전략**:
- 영상 원본: 30일 미접근 시 Cold Storage 이동
- 프리뷰: 저해상도 (720p/1080p)로 트랜스코딩
- CDN 캐싱: 반복 재생 시 Origin 요청 최소화
- 청크 업로드: 대용량 파일 안정적 전송

### 4.5 영상 처리 파이프라인

```
[업로드 시작]
     │
     ▼
[청크 업로드] ──────────────────┐
     │                         │
     ▼                         ▼
[원본 저장]              [메타데이터 추출]
     │                         │
     ▼                         │
[트랜스코딩 큐]                  │
     │                         │
     ├──────────┬──────────┐   │
     ▼          ▼          ▼   │
 [720p]    [1080p]    [썸네일]  │
     │          │          │   │
     ▼          ▼          ▼   ▼
[CDN 배포] ←───────────────────┘
     │
     ▼
[업로드 완료 알림]
```

---

## 5. UI/UX 가이드라인

### 5.1 디자인 원칙

| 원칙 | 설명 |
|------|------|
| 심플/모던 | 불필요한 장식 최소화, 콘텐츠 중심 |
| 미니멀 | 핵심 기능에 집중, 클린한 인터페이스 |
| 직관적 | 한국 사용자 친화적, 학습 비용 최소화 |
| 일관성 | 통일된 컴포넌트 시스템, 예측 가능한 동작 |
| 접근성 | WCAG 2.1 AA 기준 준수 |

### 5.2 디자인 시스템

#### 색상 팔레트

```
Primary (브랜드)
├── Primary-500: #3B82F6 (메인)
├── Primary-400: #60A5FA (호버)
├── Primary-600: #2563EB (액티브)
└── Primary-100: #DBEAFE (배경)

Neutral (중립)
├── Gray-900: #111827 (텍스트)
├── Gray-600: #4B5563 (보조 텍스트)
├── Gray-300: #D1D5DB (보더)
├── Gray-100: #F3F4F6 (배경)
└── White: #FFFFFF

Semantic (의미)
├── Success: #10B981 (완료, 승인)
├── Warning: #F59E0B (주의, 진행중)
├── Error: #EF4444 (오류, 긴급)
└── Info: #3B82F6 (정보)

Status Colors
├── 대기중: #EF4444 (빨강)
├── 진행중: #F59E0B (노랑)
├── 검토중: #3B82F6 (파랑)
└── 완료: #10B981 (초록)
```

#### 타이포그래피

```
Font Family: Pretendard (한글), Inter (영문)

Heading 1: 28px / Bold / Line-height 1.3
Heading 2: 24px / Bold / Line-height 1.3
Heading 3: 20px / SemiBold / Line-height 1.4
Heading 4: 18px / SemiBold / Line-height 1.4

Body Large: 16px / Regular / Line-height 1.5
Body: 14px / Regular / Line-height 1.5
Body Small: 13px / Regular / Line-height 1.5

Caption: 12px / Regular / Line-height 1.4
```

#### 간격 시스템

```
4px 단위 기반

xs: 4px
sm: 8px
md: 16px
lg: 24px
xl: 32px
2xl: 48px
3xl: 64px
```

#### 컴포넌트 규격

**버튼**:
- 높이: 32px (sm), 40px (md), 48px (lg)
- 패딩: 12px 16px (md)
- 라운드: 6px

**입력 필드**:
- 높이: 40px
- 패딩: 8px 12px
- 보더: 1px solid Gray-300
- 포커스: 2px Primary-500 ring

**카드**:
- 패딩: 16px ~ 24px
- 라운드: 8px
- 그림자: sm (hover 시 md)

### 5.3 반응형 브레이크포인트

| 디바이스 | 브레이크포인트 | 레이아웃 |
|----------|---------------|----------|
| 모바일 | 0 ~ 639px | 1 컬럼, 풀 기능 제한 |
| 태블릿 | 640px ~ 1023px | 2 컬럼, 기능 최적화 |
| 노트북 | 1024px ~ 1279px | 풀 기능 |
| 데스크톱 | 1280px+ | 풀 기능, 확장 뷰 |

### 5.4 참고 서비스

| 서비스 | 참고 포인트 |
|--------|-------------|
| Vrew (vrew.ai) | 영상 편집 워크플로우, 타임라인 UI |
| 미리캔버스 (miricanvas.com) | 캔버스 자유배치, 레퍼런스 보드 |
| Notion | 문서 편집, 협업 UX |
| Frame.io | 영상 피드백, 버전 관리 |
| Figma | 실시간 협업, 캔버스 UI |

### 5.5 핵심 화면 구성

#### 5.5.1 대시보드

```
┌────────────────────────────────────────────────────────────┐
│ [로고]  검색...                        [알림] [프로필]      │
├────────────────────────────────────────────────────────────┤
│ ┌──────┐                                                   │
│ │      │  대시보드                                         │
│ │ 사이드│  ┌─────────┬─────────┬─────────┬─────────┐       │
│ │  바  │  │ 대기중   │ 진행중   │ 검토중   │ 완료    │       │
│ │      │  │   5     │   12    │    3    │   28   │       │
│ │      │  └─────────┴─────────┴─────────┴─────────┘       │
│ │      │                                                   │
│ │      │  ┌─────────────────────────────────────────┐     │
│ │      │  │          프로젝트 칸반 보드              │     │
│ │      │  │  [기획] → [제작] → [검수] → [정산]       │     │
│ │      │  └─────────────────────────────────────────┘     │
│ └──────┘                                                   │
└────────────────────────────────────────────────────────────┘
```

#### 5.5.2 영상 뷰어 + 피드백

```
┌────────────────────────────────────────────────────────────┐
│ [← 프로젝트명]                           [공유] [설정]      │
├────────────────────────────────────────────────────────────┤
│ ┌────────────────────────────────┐ ┌─────────────────────┐│
│ │                                │ │ 피드백 목록         ││
│ │        영상 플레이어            │ │                    ││
│ │                                │ │ [00:01:30] 자막 수정││
│ │   ┌─────────────────────────┐  │ │ [00:02:45] 효과음   ││
│ │   │   주석 도구 오버레이     │  │ │ [00:03:10] 색보정   ││
│ │   └─────────────────────────┘  │ │                    ││
│ ├────────────────────────────────┤ │ + 피드백 추가       ││
│ │ ■ ●━━━━━━━━━━━━━━━━━━━━━━━━● │ └─────────────────────┘│
│ │ [도구] [마커들...        ] 02:30│                       │
│ └────────────────────────────────┘                       │
│                                                           │
│ 버전 히스토리: [v1] [v2] [v3 ✓]      [비교] [다운로드]    │
└────────────────────────────────────────────────────────────┘
```

#### 5.5.3 캔버스 레퍼런스 보드

```
┌────────────────────────────────────────────────────────────┐
│ [← 보드명]  [도구바: 선택/텍스트/도형/이미지/...]  [공유]   │
├────────────────────────────────────────────────────────────┤
│                                                           │
│    ┌─────────┐   ┌─────────┐   ┌─────────────────┐       │
│    │ 레퍼런스 │   │ 영상 썸네일│   │   메모/텍스트    │       │
│    │  이미지  │   │         │   │                │       │
│    └─────────┘   └─────────┘   └─────────────────┘       │
│                                                           │
│         ┌───────────────┐                                │
│         │   레퍼런스     │     ← 자유 배치               │
│         │   이미지 2     │                                │
│         └───────────────┘                                │
│                                                           │
│ [미니맵]                          [확대: 100%] [저장됨 ✓] │
└────────────────────────────────────────────────────────────┘
```

---

## 6. 보안 및 컴플라이언스

### 6.1 데이터 보안

**암호화**:

| 구분 | 방식 | 상세 |
|------|------|------|
| 전송 중 | TLS 1.3 | 모든 API 통신 |
| 저장 시 | AES-256 | 민감 데이터 |
| 데이터베이스 | Supabase 컬럼 레벨 암호화 | 개인정보 |
| 파일 | R2/S3 서버 사이드 암호화 | 모든 파일 |

**양방향 암호화 적용 필드**:
- 사용자 개인정보 (이름, 연락처)
- 계약서 내용
- 결제 정보

### 6.2 인증/인가

**인증**:
- Supabase Auth 기반
- 소셜 로그인: Google, Kakao, Naver
- 이메일/비밀번호
- 2FA (선택적)

**역할 기반 접근 제어 (RBAC)**:

| 역할 | 설명 | 권한 |
|------|------|------|
| owner | 워크스페이스 소유자 | 전체 권한, 결제 관리, 멤버 삭제 |
| admin | 관리자 | 프로젝트 관리, 멤버 초대, 설정 변경 |
| worker | 작업자 | 영상 업로드, 피드백 응답, 문서 열람 |
| client | 의뢰인 | 피드백 작성, 승인, 문서 열람 |
| viewer | 뷰어 | 읽기 전용 |

**프로젝트 레벨 권한**:
- 프로젝트 생성자 = 프로젝트 owner
- 초대 시 역할 지정
- 역할별 기능 접근 제어

### 6.3 컴플라이언스

**준수 규정**:

| 규정 | 적용 | 조치 |
|------|------|------|
| 개인정보보호법 | 필수 | 개인정보 처리방침, 동의 획득 |
| 전자서명법 | 필수 | 전자서명 법적 효력 보장 |
| GDPR | 권장 | EU 사용자 대비, 데이터 삭제권 |
| ISO 27001 | 향후 | B2B 확장 시 검토 |

**데이터 보존 정책**:
- 활성 데이터: 무기한 (구독 유지 시)
- 삭제된 데이터: 30일 보관 후 영구 삭제
- 탈퇴 시: 30일 유예 후 전체 삭제
- 법적 요구 시: 별도 보관

### 6.4 보안 모니터링

- API 요청 로깅
- 비정상 접근 패턴 탐지
- 실패한 로그인 시도 알림
- 정기 보안 감사 (분기별)

---

## 7. 출시 로드맵

### 7.1 Phase 1: MVP (Month 1-3)

**목표**: 핵심 기능 완성, 베타 테스트 준비

**범위**:
- ✓ 사용자 인증/인가
- ✓ 프로젝트 CRUD
- ✓ 문서 템플릿 (작업 요청서, 견적서, 계약서)
- ✓ 전자서명 기본
- ✓ 영상 업로드/재생
- ✓ 버전 관리 (목록, 메타데이터)
- ✓ 버전 비교 (나란히 재생)
- ✓ 프레임 단위 피드백 (기본 도구)
- ✓ 기본 대시보드
- ✓ 이메일/인앱 알림
- ✓ 반응형 웹

**제외** (Phase 2로 이동):
- AI 템플릿 추천
- 고급 버전 비교 (슬라이더, 오버레이)
- 멀티 캔버스
- 결제 시스템
- 실시간 협업

### 7.2 Phase 2: 기능 확장 (Month 4-6)

**목표**: 차별화 기능, 유료화 준비

**범위**:
- 멀티 캔버스 레퍼런스 보드
- AI 템플릿 추천
- 고급 버전 비교 (슬라이더, 타임라인 오버레이)
- 토스페이먼츠 결제 연동
- 구독 플랜 시스템
- 모바일 최적화 개선
- 고급 피드백 도구 (모자이크, 번호 마커)
- Slack 연동

### 7.3 Phase 3: 고도화 (Month 7-12)

**목표**: AI 기능, 글로벌 확장

**범위**:
- AI 차이점 자동 감지
- 자동 자막 생성
- AI 피드백 요약
- 실시간 공동 편집
- 커뮤니티 기능
- Google Drive 연동
- 다국어 지원 (영어, 일본어)
- 고급 분석 대시보드

### 7.4 마일스톤

| 마일스톤 | 시점 | 내용 |
|----------|------|------|
| M1 | Week 4 | 프로젝트 셋업, 인증 완료 |
| M2 | Week 8 | 문서/영상 기본 기능 완료 |
| M3 | Week 10 | 피드백/대시보드 완료 |
| M4 | Week 12 | MVP 완성, 내부 테스트 |
| M5 | Week 14 | 베타 테스트 시작 |
| M6 | Week 20 | Phase 2 완료, 정식 출시 |

---

## 8. 성공 지표

### 8.1 핵심 KPI

| 지표 | 목표 (3개월) | 목표 (6개월) | 목표 (12개월) |
|------|-------------|-------------|--------------|
| 가입자 수 | 100명 | 500명 | 2,000명 |
| MAU | 50명 | 200명 | 800명 |
| 프로젝트 생성 | 200건 | 1,000건 | 5,000건 |
| 유료 전환율 | - | 5% | 10% |
| MRR | - | ₩2,000,000 | ₩10,000,000 |
| NPS | 30 | 40 | 50 |

### 8.2 기능별 지표

| 기능 | 지표 | 목표 |
|------|------|------|
| 문서 | 문서 생성률 | 프로젝트당 평균 3개 |
| 영상 | 평균 버전 수 | 프로젝트당 3~5개 |
| 피드백 | 피드백 해결률 | 90% 이상 |
| 대시보드 | 일간 방문율 | 활성 사용자 70% |
| 캔버스 | 캔버스 생성률 | 프로젝트당 1개 |

### 8.3 품질 지표

| 지표 | 목표 |
|------|------|
| 페이지 로드 시간 | 3초 이내 |
| API 응답 시간 | 500ms 이내 |
| 업타임 | 99.9% |
| 에러율 | 0.1% 이하 |
| 고객 응답 시간 | 24시간 이내 |

---

## 9. 부록

### 9.1 용어 정의

| 용어 | 정의 |
|------|------|
| 의뢰인 | 영상 제작을 요청하는 클라이언트 |
| 작업자 | 영상 편집/제작을 수행하는 제작자 |
| 버전 | 영상의 수정 단계별 파일 |
| 피드백 | 특정 프레임/구간에 대한 수정 요청 |
| 캔버스 | 레퍼런스를 자유롭게 배치하는 작업 공간 |
| 타임코드 | 영상 내 특정 시점 (HH:MM:SS:FF) |
| 주석 | 영상 프레임 위에 그린 도형/텍스트 |

### 9.2 참고 자료

- Vrew: https://vrew.ai
- 미리캔버스: https://www.miricanvas.com/ko
- Frame.io: https://frame.io
- Supabase 문서: https://supabase.com/docs
- Cloudflare R2: https://developers.cloudflare.com/r2

### 9.3 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2025-01-22 | 최초 작성 | - |

---

**문서 끝**
